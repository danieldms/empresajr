define(["Ti/_","Ti/API","Ti/_/analytics","Ti/App","Ti/_/Evented","Ti/_/has","Ti/_/lang","Ti/_/ready","Ti/_/style","Ti/Buffer","Ti/Platform","Ti/UI","Ti/Locale","Ti/_/include"],function(_,API,analytics,App,Evented,has,lang,ready,style,Buffer,Platform,UI){function Empty(){}function escapeString(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")}function shutdown(){unloaded||(unloaded=1,App.fireEvent("close"),analytics.add("ti.end","ti.end"))}var global=window,req=require,cfg=req.config,deployType=App.deployType,ver=cfg.ti.version,is=req.is,on=req.on,loaded,unloaded,showingError,waiting=[],Ti=lang.setObject("Ti",Evented,{constants:{buildDate:cfg.ti.buildDate,buildHash:cfg.ti.buildHash,version:ver},properties:{userAgent:function(){return navigator.userAgent}},createBuffer:function(e){return new Buffer(e)},include:function(e){"array"==typeof e||(e=[].concat(Array.prototype.slice.call(arguments,0))),e.forEach(function(e){require("Ti/_/include!"+e)})},deferStart:function(){if(!loaded){var e=Math.round(1e12*Math.random());return waiting.push(e),function(){var t=waiting.indexOf(e);~t&&waiting.splice(t,1),loaded=1,waiting.length||(has("ti-instrumentation")&&instrumentation.stopTest(instrumentation.systemLoadTimeTest),require(cfg.main||["app.js"]))}}API.warn("app.js already loaded!")}}),loadAppjs=Ti.deferStart();if(!has("object-defineproperty")){var odp=Object.defineProperty;Object.defineProperty=function defineProperty(e,t,i){if(!e||!is(e,"Object")&&!is(e,"Function")&&!is(e,"Window"))throw new TypeError("Object.defineProperty called on non-object: "+e);if(i=i||{},!i||!is(i,"Object")&&!is(i,"Function"))throw new TypeError("Property description must be an object: "+i);if(odp)try{return odp.call(Object,e,t,i)}catch(o){}var n=Object.prototype,r=function(e,t){return e.hasOwnProperty(t)},a=r(n,"__defineGetter__"),s=e.__proto__;if(r(i,"value"))a&&(e.__lookupGetter__(t)||e.__lookupSetter__(t))?(e.__proto__=n,delete e[t],e[t]=i.value,e.__proto__=s):e[t]=i.value;else{if(!a)throw new TypeError("Getters and setters can not be defined on this javascript engine");r(i,"get")&&defineGetter(e,t,i.get),r(i,"set")?defineSetter(e,t,i.set):e[t]=null}}}if(has("function-bind")||(Function.prototype.bind=function bind(e){var t=this,i=Array.prototype.slice,o=i.call(arguments,1),n=function(){var r,a=o.concat(i.call(arguments));return this instanceof n?(r=t.apply(this,a),Object(r)===r?r:this):t.apply(e,a)};return t.prototype&&(Empty.prototype=t.prototype,n.prototype=new Empty,Empty.prototype=null),n}),!has("js-btoa")){var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",fromCharCode=String.fromCharCode;global.btoa=function(e){for(var t,i,o,n,r,a,s,l=[],d=0,_=e.length;_>d;)t=e.charCodeAt(d++),i=e.charCodeAt(d++),o=e.charCodeAt(d++),n=t>>2,r=(3&t)<<4|i>>4,a=(15&i)<<2|o>>6,s=63&o,isNaN(i)?a=s=64:isNaN(o)&&(s=64),l.push(tab.charAt(n)+tab.charAt(r)+tab.charAt(a)+tab.charAt(s));return l.join("")},global.atob=function(e){var t,i,o,n,r=[],a=0,s=e.length;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s>a;)t=tab.indexOf(e.charAt(a++)),i=tab.indexOf(e.charAt(a++)),o=tab.indexOf(e.charAt(a++)),n=tab.indexOf(e.charAt(a++)),r.push(fromCharCode(t<<2|i>>4)),64!==o&&r.push(fromCharCode((15&i)<<4|o>>2)),64!==n&&r.push(fromCharCode((3&o)<<6|n));return r.join("")}}return has("json-stringify")||(JSON.parse=function(s){return eval("("+s+")")},JSON.stringify=function(e,t,i){function o(e,n,r){var a,s,l=typeof e,d=i?n+i:"",_=i?" ":"",c=i?"\n":"",u=[];if(t&&(e=t(r,e)),"number"===l)return isFinite(e)?e+"":"null";if(is(l,"Boolean"))return e+"";if(null===e)return"null";if(is(e,"String"))return escapeString(e);if("function"===l||"undefined"===l)return void 0;if(is(e.toJSON,"Function"))return o(e.toJSON(r),n,r);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,i,o){var n=e["getUTC"+i]()+(o?1:0);return 10>n?"0"+n:n});if(e.valueOf()!==e)return o(e.valueOf(),n,r);if(e instanceof Array){for(r=0,s=e.length;s>r;r++){var h=e[r];a=o(h,d,r),is(a,"String")||(a="null"),u.push(c+d+a)}return"["+u.join(",")+c+n+"]"}for(r in e){var f;if(is(r,"Number"))f='"'+r+'"';else{if(!is(r,"String"))continue;f=escapeString(r)}a=o(e[r],d,r),is(a,"String")&&u.push(c+d+f+":"+_+a)}return"{"+u.join(",")+c+n+"}"}return is(t,"String")&&(i=t,t=null),o(e,"","")}),Object.defineProperty(global,"Ti",{value:Ti,writable:!1}),Object.defineProperty(global,"Titanium",{value:Ti,writable:!1}),API.info("Appcelerator Titanium "+ver+" Mobile Web"),cfg.vendorPrefixes||(cfg.vendorPrefixes=["","Moz","Webkit","O","ms"]),Ti.parse=JSON.parse,Ti.stringify=JSON.stringify,on(global,"beforeunload",shutdown),on(global,"unload",shutdown),has("ti-show-errors")&&on(global,"error",function(e){function t(e,t,i,o){l.add(UI.createLabel({color:i,font:{fontSize:o,fontWeight:"bold"},height:t,left:10,right:10,textAlign:UI.TEXT_ALIGNMENT_CENTER,text:e}))}if(!showingError){showingError=1;var i,o,n=e.filename||"",r=n.match(/:\/\/.+(\/.*)/),a=r?r[1]:e.filename,s=e.lineno,l=UI.createWindow({backgroundColor:"#f00",top:"100%",height:"100%",layout:UI._LAYOUT_CONSTRAINING_VERTICAL});t("Application Error","15%","#0f0","24pt"),t((e.message||"Unknown error").trim()+(a&&"undefined"!==a?" at "+a:"")+(s?" (line "+s+")":""),"45%","#fff","16pt"),l.add(i=UI.createView({height:"12%"})),i.add(o=UI.createButton({title:"Dismiss"})),l.addEventListener("close",function(){l.destroy()}),o.addEventListener("singletap",function(){l.animate({duration:500,top:"100%"},function(){l.close(),showingError=0})}),t("Error messages will only be displayed during development. When your app is packaged for final distribution, no error screen will appear. Test your code!","28%","#000","10pt"),on.once(l,"postlayout",function(){setTimeout(function(){l.animate({duration:500,top:0},function(){l.top=0,l.height="100%"})},100)}),l.open()}}),ready(function(){style.set(document.body,{margin:0,padding:0}),App.analytics&&(null===localStorage.getItem("ti:enrolled")&&(analytics.add("ti.enroll","ti.enroll",{app_name:App.name,oscpu:1,mac_addr:null,deploytype:deployType,ostype:Platform.osname,osarch:null,app_id:App.id,platform:Platform.name,model:Platform.model}),localStorage.setItem("ti:enrolled",!0)),analytics.add("ti.start","ti.start",{tz:(new Date).getTimezoneOffset(),deploytype:deployType,os:Platform.osname,osver:Platform.ostype,version:cfg.ti.version,platform:Platform.name,model:Platform.model,un:null,app_version:App.version,nettype:null}),analytics.send()),setTimeout(loadAppjs,1)}),Ti});