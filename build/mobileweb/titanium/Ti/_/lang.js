define(["Ti/_/has"],function(e){function t(e,t){return[].concat(Array.prototype.slice.call(e,t||0))}function i(e,i){var o=t(arguments,2),r=a(i,"String");return function(){var a=e||n,l=r?a[i]:i;return l&&l.apply(a,o.concat(t(arguments)))}}var o,n=this,a=require.is;return{hitch:o=function(e,t){if(arguments.length>2)return i.apply(n,arguments);if(t||(t=e,e=null),a(t,"String")){if(e=e||n,!e[t])throw['hitch: scope["',t,'"] is null (scope="',e,'")'].join("");return function(){return e[t].apply(e,arguments||[])}}return e?function(){return t.apply(e,arguments||[])}:t},isDef:function(e){return!a(e,"Undefined")},mixProps:function(t,i,n){var r,l,s,d={properties:1,constants:0};for(s in i)if(i.hasOwnProperty(s)&&!/^(constructor|__values__)$/.test(s))if(d.hasOwnProperty(s)){r=t[s]||(t[s]={}),r.__values__||(r.__values__={});for(l in i[s])(function(i,n,r,l,s,d,_){var c=a(s,"Object"),u=c&&a(s.get,"Function")&&s.get,h=c&&a(s.set,"Function")&&s.set,f=c&&a(s.post),y="Function"===f?s.post:"String"===f?o(n,s.post):0;c&&(u||h||y)?l[i]=s.value:a(s,"Function")?u=s:l[i]=s,Object.defineProperty(r,i,{get:function(){return u?u.call(n,l[i]):l[i]},set:function(e){var t=[e,l[i],i];t[0]=l[i]=h?h.apply(n,t):e,y&&y.apply(n,t)},configurable:!0,enumerable:!0}),Object.defineProperty(t,i,{get:function(){return r[i]},set:function(e){if(!_)throw Error('Property "'+i+'" is read only');r[i]=e},configurable:!0,enumerable:!0}),e("declare-property-methods")&&(_||i.toUpperCase()!==i)&&(n["get"+d]=function(){return r[i]},_&&(n["set"+d]=function(e){return r[i]=e}))})(l,t,r,r.__values__,i[s][l],l.substring(0,1).toUpperCase()+l.substring(1),d[s])}else n&&(t[s]=i[s]);return t},generateAccessors:function(e,t,i){function o(t){var i="get"+t.substring(0,1).toUpperCase()+t.substring(1);i in e.prototype||(e.prototype[i]=function(){return this[t]})}function n(t){var i="set"+t.substring(0,1).toUpperCase()+t.substring(1);i in e.prototype||(e.prototype[i]=function(e){return this[t]=e})}t&&t.split(",").forEach(o),i&&i.split(",").forEach(function(e){o(e),n(e)})},setObject:function(e){var t,i,o=e.split("."),n=o.pop(),r=window,l=0,s=o[l++];if(s)do r=s in r?r[s]:r[s]={};while(r&&(s=o[l++]));if(r&&n){i=n in r?r[n]:{};for(l=1;arguments.length>l;l++)a(t=arguments[l],"Object")?this.mixProps(i,t,1):i=t}return r[n]=i},toArray:t,urlEncode:function(e){var t,i,o,n,r=encodeURIComponent,l=[];for(t in e)if(e.hasOwnProperty(t))for(a(i=e[t],"Array")||(i=[i]),t=r(t)+"=",o=0,n=i.length;n>o;)l.push(t+r(i[o++]));return l.join("&")},val:function(e,t){return void 0===e?t:e}}});