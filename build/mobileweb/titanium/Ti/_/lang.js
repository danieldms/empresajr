define(["Ti/_/has"],function(e){function t(e,t){return[].concat(Array.prototype.slice.call(e,t||0))}function i(e,i){var o=t(arguments,2),a=r(i,"String");return function(){var r=e||n,s=a?r[i]:i;return s&&s.apply(r,o.concat(t(arguments)))}}var o,n=this,r=require.is;return{hitch:o=function(e,t){if(arguments.length>2)return i.apply(n,arguments);if(t||(t=e,e=null),r(t,"String")){if(e=e||n,!e[t])throw['hitch: scope["',t,'"] is null (scope="',e,'")'].join("");return function(){return e[t].apply(e,arguments||[])}}return e?function(){return t.apply(e,arguments||[])}:t},isDef:function(e){return!r(e,"Undefined")},mixProps:function(t,i,n){var a,s,l,d={properties:1,constants:0};for(l in i)if(i.hasOwnProperty(l)&&!/^(constructor|__values__)$/.test(l))if(d.hasOwnProperty(l)){a=t[l]||(t[l]={}),a.__values__||(a.__values__={});for(s in i[l])(function(i,n,a,s,l,d,c){var u=r(l,"Object"),h=u&&r(l.get,"Function")&&l.get,_=u&&r(l.set,"Function")&&l.set,f=u&&r(l.post),g="Function"===f?l.post:"String"===f?o(n,l.post):0;u&&(h||_||g)?s[i]=l.value:r(l,"Function")?h=l:s[i]=l,Object.defineProperty(a,i,{get:function(){return h?h.call(n,s[i]):s[i]},set:function(e){var t=[e,s[i],i];t[0]=s[i]=_?_.apply(n,t):e,g&&g.apply(n,t)},configurable:!0,enumerable:!0}),Object.defineProperty(t,i,{get:function(){return a[i]},set:function(e){if(!c)throw Error('Property "'+i+'" is read only');a[i]=e},configurable:!0,enumerable:!0}),e("declare-property-methods")&&(c||i.toUpperCase()!==i)&&(n["get"+d]=function(){return a[i]},c&&(n["set"+d]=function(e){return a[i]=e}))})(s,t,a,a.__values__,i[l][s],s.substring(0,1).toUpperCase()+s.substring(1),d[l])}else n&&(t[l]=i[l]);return t},generateAccessors:function(e,t,i){function o(t){var i="get"+t.substring(0,1).toUpperCase()+t.substring(1);i in e.prototype||(e.prototype[i]=function(){return this[t]})}function n(t){var i="set"+t.substring(0,1).toUpperCase()+t.substring(1);i in e.prototype||(e.prototype[i]=function(e){return this[t]=e})}t&&t.split(",").forEach(o),i&&i.split(",").forEach(function(e){o(e),n(e)})},setObject:function(e){var t,i,o=e.split("."),n=o.pop(),a=window,s=0,l=o[s++];if(l)do a=l in a?a[l]:a[l]={};while(a&&(l=o[s++]));if(a&&n){i=n in a?a[n]:{};for(s=1;arguments.length>s;s++)r(t=arguments[s],"Object")?this.mixProps(i,t,1):i=t}return a[n]=i},toArray:t,urlEncode:function(e){var t,i,o,n,a=encodeURIComponent,s=[];for(t in e)if(e.hasOwnProperty(t))for(r(i=e[t],"Array")||(i=[i]),t=a(t)+"=",o=0,n=i.length;n>o;)s.push(t+a(i[o++]));return s.join("&")},val:function(e,t){return void 0===e?t:e}}});