define(["Ti/_/has"],function(e){function t(e,t){return[].concat(Array.prototype.slice.call(e,t||0))}function i(e,i){var o=t(arguments,2),r=a(i,"String");return function(){var a=e||n,s=r?a[i]:i;return s&&s.apply(a,o.concat(t(arguments)))}}var o,n=this,a=require.is;return{hitch:o=function(e,t){if(arguments.length>2)return i.apply(n,arguments);if(t||(t=e,e=null),a(t,"String")){if(e=e||n,!e[t])throw['hitch: scope["',t,'"] is null (scope="',e,'")'].join("");return function(){return e[t].apply(e,arguments||[])}}return e?function(){return t.apply(e,arguments||[])}:t},isDef:function(e){return!a(e,"Undefined")},mixProps:function(t,i,n){var r,s,l,d={properties:1,constants:0};for(l in i)if(i.hasOwnProperty(l)&&!/^(constructor|__values__)$/.test(l))if(d.hasOwnProperty(l)){r=t[l]||(t[l]={}),r.__values__||(r.__values__={});for(s in i[l])(function(i,n,r,s,l,d,_){var c=a(l,"Object"),u=c&&a(l.get,"Function")&&l.get,h=c&&a(l.set,"Function")&&l.set,f=c&&a(l.post),p="Function"===f?l.post:"String"===f?o(n,l.post):0;c&&(u||h||p)?s[i]=l.value:a(l,"Function")?u=l:s[i]=l,Object.defineProperty(r,i,{get:function(){return u?u.call(n,s[i]):s[i]},set:function(e){var t=[e,s[i],i];t[0]=s[i]=h?h.apply(n,t):e,p&&p.apply(n,t)},configurable:!0,enumerable:!0}),Object.defineProperty(t,i,{get:function(){return r[i]},set:function(e){if(!_)throw Error('Property "'+i+'" is read only');r[i]=e},configurable:!0,enumerable:!0}),e("declare-property-methods")&&(_||i.toUpperCase()!==i)&&(n["get"+d]=function(){return r[i]},_&&(n["set"+d]=function(e){return r[i]=e}))})(s,t,r,r.__values__,i[l][s],s.substring(0,1).toUpperCase()+s.substring(1),d[l])}else n&&(t[l]=i[l]);return t},generateAccessors:function(e,t,i){function o(t){var i="get"+t.substring(0,1).toUpperCase()+t.substring(1);i in e.prototype||(e.prototype[i]=function(){return this[t]})}function n(t){var i="set"+t.substring(0,1).toUpperCase()+t.substring(1);i in e.prototype||(e.prototype[i]=function(e){return this[t]=e})}t&&t.split(",").forEach(o),i&&i.split(",").forEach(function(e){o(e),n(e)})},setObject:function(e){var t,i,o=e.split("."),n=o.pop(),r=window,s=0,l=o[s++];if(l)do r=l in r?r[l]:r[l]={};while(r&&(l=o[s++]));if(r&&n){i=n in r?r[n]:{};for(s=1;arguments.length>s;s++)a(t=arguments[s],"Object")?this.mixProps(i,t,1):i=t}return r[n]=i},toArray:t,urlEncode:function(e){var t,i,o,n,r=encodeURIComponent,s=[];for(t in e)if(e.hasOwnProperty(t))for(a(i=e[t],"Array")||(i=[i]),t=r(t)+"=",o=0,n=i.length;n>o;)s.push(t+r(i[o++]));return s.join("&")},val:function(e,t){return void 0===e?t:e}}});