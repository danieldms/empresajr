define(["Ti/_","Ti/_/string","Ti/Filesystem"],function(e,t,i){function o(e,i,r){var l,s,d=0;if(e)if(arguments.length>2){for(;n.length>d;)if(l=n[d++],l+=l?s||(s=t.capitalize(i)):i,l in e.style)return(a(r,"Array")?r:[r]).forEach(function(t){e.style[l]=t}),r}else for(l in i)o(e,l,i[l]);return e}var n=require.config.vendorPrefixes.dom,a=require.is,r=document.createElement("p");return{discover:function(e,i){var o,a,l=0;for(i||(i=r);n.length>l;)if(o=n[l++],o+=o?a||(a=t.capitalize(e)):e,o in i.style)return o;return e},get:function(e,t){return e.style[this.discover(t,e)]},set:o,supports:function(e,t){var i=this.discover(e,t);return i in t.style},url:function(t){if(t&&"Ti.Blob"===t.declaredClass)return"url("+(""+t)+")";var o=t&&t.match(/^(.+):\/\//),n=o&&~i.protocols.indexOf(o[1])&&i.getFile(t);return n&&n.exists()?"url("+(""+n.read())+")":t&&"none"!==t?/^url\(/.test(t)?t:"url("+(require.cache(t)||e.getAbsolutePath(t))+")":""}}});