define(["Ti/_/declare","Ti/_/UI/FontWidget","Ti/_/css","Ti/_/style","Ti/UI"],function(e,t,i,o,a){var r=o.set,n={post:function(){this.backgroundColor||this.backgroundDisabledColor||this.backgroundDisabledImage||this.backgroundFocusedColor||this.backgroundFocusedImage||this.backgroundImage||this.backgroundSelectedColor||this.backgroundSelectedImage?this._clearDefaultLook():this._setDefaultLook(),this._doBackground()}};return e("Ti.UI.Switch",t,{constructor:function(){var e=this._contentContainer=a.createView({width:a.INHERIT,height:a.INHERIT,layout:a._LAYOUT_CONSTRAINING_VERTICAL,borderColor:"transparent"});this._add(e),e._add(this._switchTitle=a.createLabel({width:a.INHERIT,height:a.INHERIT,verticalAlign:a.TEXT_VERTICAL_ALIGNMENT_CENTER,textAlign:a.TEXT_ALIGNMENT_CENTER})),e._add(this._switchIndicator=a.createView({width:40,height:10,borderRadius:4,borderWidth:1,borderColor:"#888"})),this._setDefaultLook();var t=this;t.addEventListener("singletap",function(){t.value=!t.value}),this.value=!1},_setDefaultLook:function(){this._hasDefaultLook||(this._hasDefaultLook=!0,this._previousBorderWidth=this.borderWidth,this._previousBorderColor=this.borderColor,i.add(this.domNode,"TiUIElementGradient"),i.add(this.domNode,"TiUIButtonDefault"),this._contentContainer.borderWidth=6,this._getBorderFromCSS())},_clearDefaultLook:function(){this._hasDefaultLook&&(this._hasDefaultLook=!1,this.borderWidth=this._previousBorderWidth,this.borderColor=this._previousBorderColor,i.remove(this.domNode,"TiUIElementGradient"),i.remove(this.domNode,"TiUIButtonDefault"),this._contentContainer.borderWidth=0)},_defaultWidth:a.SIZE,_defaultHeight:a.SIZE,properties:{backgroundColor:n,backgroundDisabledColor:n,backgroundDisabledImage:n,backgroundFocusedColor:n,backgroundFocusedImage:n,backgroundImage:n,backgroundSelectedColor:n,backgroundSelectedImage:n,enabled:{set:function(e,t){return e!==t&&(this._hasDefaultLook&&(e?(i.add(this.domNode,"TiUIElementGradient"),r(this.domNode,"backgroundColor","")):(i.remove(this.domNode,"TiUIElementGradient"),r(this.domNode,"backgroundColor","#aaa"))),this._setTouchEnabled(e)),e},value:!0},textAlign:{set:function(e){return this._switchTitle.textAlign=e,e}},titleOff:{set:function(e){return this.value||(this._switchTitle.text=e),e},value:"Off"},titleOn:{set:function(e){return this.value&&(this._switchTitle.text=e),e},value:"On"},value:{set:function(e){return this._switchIndicator.backgroundColor=e?"#0f0":"#aaa",e=!!e,this._switchTitle.text=e?this.titleOn:this.titleOff,e},post:function(){this.fireEvent("change",{value:this.value})}},verticalAlign:{set:function(e){this._switchTitle.verticalAlign=e},value:a.TEXT_VERTICAL_ALIGNMENT_CENTER}}})});