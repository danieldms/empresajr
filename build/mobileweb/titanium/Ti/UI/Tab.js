define(["Ti/_/declare","Ti/UI/View","Ti/_/dom","Ti/Locale","Ti/UI","Ti/UI/MobileWeb","Ti/UI/Label","Ti/UI/ImageView"],function(e,t,i,o,a,l){var n={post:function(){this._tabTitle.text=this._getTitle()}},r=a.FILL,s=a.SIZE;return e("Ti.UI.Tab",t,{constructor:function(e){var t=e&&e.window,i=a.createView({layout:a._LAYOUT_CONSTRAINING_VERTICAL,width:"100%",height:s}),o=this._tabNavigationGroup=l.createNavigationGroup({window:t,_tab:this});this._add(i),i._add(this._tabIcon=a.createImageView({height:s,width:s})),i._add(this._tabTitle=a.createLabel({width:"100%",wordWrap:!0,textAlign:a.TEXT_ALIGNMENT_CENTER})),t&&require.on(this,"singletap",this,function(){var e=this._tabGroup;e&&(e.activeTab===this?o._reset():e.activeTab=this)})},_defaultWidth:r,_defaultHeight:r,open:function(e,t){this._tabNavigationGroup.open(e,t)},close:function(e,t){this._tabNavigationGroup.close(e,t)},_focus:function(){this.fireEvent("focus",this._tabGroup._getEventData());var e=this._tabNavigationGroup._getTopWindow();e&&(this._tabGroup&&this._tabGroup._opened&&!e._opened&&(e._opened=1,e.fireEvent("open")),e._handleFocusEvent())},_blur:function(){var e=this._tabNavigationGroup._getTopWindow();e&&e._handleBlurEvent(),this.fireEvent("blur",this._tabGroup._getEventData())},_getTitle:function(){return o._getString(this.titleid,this.title)},_setTabGroup:function(e){this._tabGroup=e,this._tabNavigationGroup.navBarAtTop=e.tabsAtTop,this._win&&(this._win.tabGroup=e)},_setNavBarAtTop:function(e){this._tabNavigationGroup.navBarAtTop=e},properties:{active:{get:function(){return this._tabGroup&&this._tabGroup.activeTab===this},post:function(e){var t=this._tabGroup,i=this._tabNavigationGroup,o=t._focused&&t._opened;e?(i.navBarAtTop=t.tabsAtBottom,i._updateNavBar(),t._addTabContents(i),o&&this._focus()):(t._removeTabContents(i),o&&this._blur())}},icon:{set:function(e){return this._tabIcon.image=e}},title:n,titleid:n}})});