define(["Ti/_/declare","Ti/_/UI/TextBox","Ti/_/css","Ti/_/dom","Ti/_/lang","Ti/_/style","Ti/UI"],function(e,t,i,o,a,r,n){var l=["None","Line","Bezel","Rounded"],s={post:"_setKeyboardType"},d=r.set,_=require.on;return e("Ti.UI.TextField",t,{constructor:function(){var e=o.create("input",{autocomplete:"off",className:"TiUITextFieldInput"},this.domNode);this._initTextBox(e),this._setKeyboardType(),this.borderStyle=n.INPUT_BORDERSTYLE_BEZEL,this._disconnectFocusEvent=_(e,"focus",this,function(){this._focused=1,this._setInternalText(this.clearOnEdit?"":this._getInternalText())}),this._disconnectBlurEvent=_(e,"blur",this,function(){this._focused=0,this._updateInternalText()})},destroy:function(){this._disconnectFocusEvent(),this._disconnectBlurEvent(),t.prototype.destroy.apply(this,arguments)},_showingHint:1,_setInternalText:function(e){var i=!this._focused&&!e;i!==this._showingHint&&(this._showingHint=i,this._setKeyboardType()),t.prototype._setInternalText.call(this,i?this.hintText:e)},_getInternalText:function(){return this._showingHint?"":t.prototype._getInternalText.call(this)},_defaultWidth:n.SIZE,_defaultHeight:n.SIZE,_getContentSize:function(e){return{width:this._measureText(this.value,this._field,e).width+6,height:this._measureText(this.value,this._field,e).height+6}},_setTouchEnabled:function(e){this.slider&&d(this._field,"pointerEvents",e?"auto":"none")},_setKeyboardType:function(){var e="text";if(this.passwordMask&&!this._showingHint)e="password";else switch(this.keyboardType){case n.KEYBOARD_EMAIL:e="email";break;case n.KEYBOARD_NUMBER_PAD:e="number";break;case n.KEYBOARD_PHONE_PAD:e="tel";break;case n.KEYBOARD_URL:e="url"}try{this._field.type=e}catch(t){this._field.type="text"}},properties:{borderStyle:{set:function(e,t){var o=this.domNode,a="TiUITextFieldBorderStyle";return e!==t&&(i.remove(o,a+l[t]),i.add(o,a+l[e])),e}},clearOnEdit:!1,hintText:{post:"_updateInternalText",value:""},keyboardType:s,passwordMask:s}})});