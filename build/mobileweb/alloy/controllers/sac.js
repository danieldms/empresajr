function Controller(){function e(){null!=Alloy.Globals.Projeto.url?Ti.App.fireEvent("app:setLayout",{layout:"pdf",swipe:!1}):alert("Não foi adicionado nenhum arquivo!")}function t(e){if("sucesso"==e.type){Alloy.Globals.Projeto=e,l.titulo_projeto.text=e.titulo,l.descritivo.text=e.descricao,l.deadline.text=e.deadline,40>e.previsto&&(l.previsto.color="#000"),l.sprevisto.width=e.previsto+"%",l.previsto.text=e.previsto+"%",40>e.realizado&&(l.realizado.color="#000"),l.srealizado.width=e.realizado+"%",l.realizado.text=e.realizado+"%";for(var t=0,i=e.comentarios.length;i>t;t++)o(e.comentarios[t]);if(e.realizado>=100&&"true"==e.avaliacao&&null==Alloy.Globals.dialog){var _=Titanium.UI.createAlertDialog({title:"Projeto Concluído",message:"Deseja fazer uma avaliação do projeto?",buttonNames:["Agora","Agora não"],cancel:1});_.addEventListener("click",function(e){if(e.cancel===e.index||!0===e.cancel)return Alloy.Globals.dialog=0,void 0;switch(e.index){case 0:Ti.App.fireEvent("app:setLayout",{layout:"sac/perguntas",swipe:!1});break;case 1:Titanium.API.info("Clicked button 1 (NO)"),Alloy.Globals.dialog=0;break;default:}}),_.show()}}else alert(e.message)}function i(e){Ti.App.fireEvent("app:preload",null),"sucesso"==e.type&&(alert(e.message),Ti.App.fireEvent("app:setLayout",{layout:"sac",swipe:!1}))}function o(e){var t=null;t=e.usuarios_id==Alloy.Globals.Usuario.id?"#105A99":"#259D2D";var i=Ti.UI.createView({height:15,top:0,layout:"vertical"}),_=Ti.UI.createLabel({left:10,top:4,color:t,text:e.nome,font:{fontSize:10,fontWeight:"bold"}}),o=Ti.UI.createLabel({right:5,top:"-14",textAlign:"right",text:e.data,font:{fontSize:10},color:"#CCC"});i.add(_),i.add(o),l.comentario.add(i);var a=Ti.UI.createView({left:0,top:2,backgroundColor:"#ccc",height:1,width:"100%"});l.comentario.add(a);var d=Ti.UI.createLabel({left:10,top:5,right:10,text:e.descricao,font:{fontSize:10},color:"#9B9B9B"});l.comentario.add(d),l.comentario.setHeight(Ti.UI.SIZE)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="sac",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var l=this,a={},d={};l.__views.sac=Ti.UI.createView({layout:"vertical",id:"sac"}),l.__views.sac&&l.addTopLevelView(l.__views.sac),l.__views.navView=Ti.UI.createView({height:"44dp",width:"100%",top:0,left:0,backgroundImage:"/lightbg.png",id:"navView"}),l.__views.sac.add(l.__views.navView),l.__views.button=Ti.UI.createView({id:"button",height:"50dp",width:"50dp",left:"0"}),l.__views.navView.add(l.__views.button),l.__views.__alloyId134=Ti.UI.createImageView({image:"/images/icons/menu.png",width:"25dp",height:"15dp",id:"__alloyId134"}),l.__views.button.add(l.__views.__alloyId134),l.__views.__alloyId135=Ti.UI.createLabel({height:"46dp",font:{fontSize:"18dp",fontWeight:"bold"},color:"#FFF",textAlign:"center",shadowColor:"#000",shadowOffset:{x:"0dp",y:"1dp"},text:"SAC",id:"__alloyId135"}),l.__views.navView.add(l.__views.__alloyId135),l.__views.content=Ti.UI.createScrollView({backgroundColor:"transparent",layout:"vertical",id:"content",contentHeight:"auto"}),l.__views.sac.add(l.__views.content),l.__views.__alloyId136=Ti.UI.createView({height:26,left:0,bottom:2,layout:"vertical",backgroundColor:"#f5f5f5",id:"__alloyId136"}),l.__views.content.add(l.__views.__alloyId136),l.__views.__alloyId137=Ti.UI.createLabel({font:{fontSize:11,fontWeight:"bold"},left:10,top:6,color:"#8a8a8a",text:"Seu Projeto",id:"__alloyId137"}),l.__views.__alloyId136.add(l.__views.__alloyId137),l.__views.__alloyId138=Ti.UI.createView({height:"130",width:"100%",layout:"horizontal",id:"__alloyId138"}),l.__views.content.add(l.__views.__alloyId138),l.__views.__alloyId139=Ti.UI.createView({layout:"vertical",width:"80",left:"0",id:"__alloyId139"}),l.__views.__alloyId138.add(l.__views.__alloyId139),l.__views.__alloyId140=Ti.UI.createImageView({image:"/images/icons/pdf.png",width:"50",height:"50",left:"10",top:"10",id:"__alloyId140"}),l.__views.__alloyId139.add(l.__views.__alloyId140),e?l.__views.__alloyId140.addEventListener("click",e):d["$.__views.__alloyId140!click!clickPDF"]=!0,l.__views.__alloyId141=Ti.UI.createLabel({font:{fontSize:10,fontWeight:"normal"},text:"PREVISTO",top:"15",left:"10",id:"__alloyId141"}),l.__views.__alloyId139.add(l.__views.__alloyId141),l.__views.__alloyId142=Ti.UI.createLabel({font:{fontSize:10,fontWeight:"normal"},text:"REALIZADO",left:"10",top:"7",id:"__alloyId142"}),l.__views.__alloyId139.add(l.__views.__alloyId142),l.__views.__alloyId143=Ti.UI.createView({layout:"vertical",top:"0",left:"0",width:"200",id:"__alloyId143"}),l.__views.__alloyId138.add(l.__views.__alloyId143),l.__views.titulo_projeto=Ti.UI.createLabel({font:{fontFamily:"DIN-BoldAlternate",fontSize:16},color:"#7F7F7F",text:"Titulo do projeto 2000",top:"0",left:"0",id:"titulo_projeto"}),l.__views.__alloyId143.add(l.__views.titulo_projeto),l.__views.__alloyId144=Ti.UI.createLabel({font:{fontSize:10,fontWeight:"normal"},text:"DEADLINE",top:"5",left:"0",id:"__alloyId144"}),l.__views.__alloyId143.add(l.__views.__alloyId144),l.__views.deadline=Ti.UI.createLabel({font:{fontSize:12,fontWeight:"bold"},text:"0/00/0000",left:"0",id:"deadline"}),l.__views.__alloyId143.add(l.__views.deadline),l.__views.__alloyId145=Ti.UI.createView({width:"220",backgroundColor:"#F5F5F5",top:"18",height:"17",left:"0",layout:"vertical",id:"__alloyId145"}),l.__views.__alloyId143.add(l.__views.__alloyId145),l.__views.sprevisto=Ti.UI.createView({backgroundGradient:{type:"linear",startPoint:{x:0,y:"50%"},endPoint:{x:"100%",y:"50%"},colors:[{color:"#125a95",offset:0},{color:"#4898dd",offset:1}],height:10,left:0},width:"0%",height:"15",top:"0",left:"0",id:"sprevisto"}),l.__views.__alloyId145.add(l.__views.sprevisto),l.__views.previsto=Ti.UI.createLabel({text:"0%",color:"#FFF",top:"-16",font:"{fontSize: 10}",id:"previsto"}),l.__views.__alloyId145.add(l.__views.previsto),l.__views.__alloyId146=Ti.UI.createView({width:"220",backgroundColor:"#F5F5F5",top:"4",height:"17",left:"0",layout:"vertical",id:"__alloyId146"}),l.__views.__alloyId143.add(l.__views.__alloyId146),l.__views.srealizado=Ti.UI.createView({backgroundGradient:{type:"linear",startPoint:{x:0,y:"50%"},endPoint:{x:"100%",y:"50%"},colors:[{color:"#125a95",offset:0},{color:"#1c5bc4",offset:1}],height:10,left:0},width:"0%",height:"15",left:"0",top:"0",id:"srealizado"}),l.__views.__alloyId146.add(l.__views.srealizado),l.__views.realizado=Ti.UI.createLabel({text:"0%",color:"#FFF",top:"-16",font:"{fontSize: 10}",id:"realizado"}),l.__views.__alloyId146.add(l.__views.realizado),l.__views.__alloyId147=Ti.UI.createView({height:26,left:0,bottom:2,layout:"vertical",backgroundColor:"#f5f5f5",id:"__alloyId147"}),l.__views.content.add(l.__views.__alloyId147),l.__views.__alloyId148=Ti.UI.createLabel({font:{fontSize:11,fontWeight:"bold"},left:10,top:6,color:"#8a8a8a",text:"Descritivo",id:"__alloyId148"}),l.__views.__alloyId147.add(l.__views.__alloyId148),l.__views.descritivo=Ti.UI.createLabel({font:{fontSize:12},color:"#666666",id:"descritivo",left:"10",right:"10",top:"0",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT}),l.__views.content.add(l.__views.descritivo),l.__views.__alloyId149=Ti.UI.createView({height:26,left:0,bottom:2,layout:"vertical",backgroundColor:"#f5f5f5",top:"10",id:"__alloyId149"}),l.__views.content.add(l.__views.__alloyId149),l.__views.__alloyId150=Ti.UI.createLabel({font:{fontSize:11,fontWeight:"bold"},left:10,top:6,color:"#8a8a8a",text:"Comentários",id:"__alloyId150"}),l.__views.__alloyId149.add(l.__views.__alloyId150),l.__views.comentario=Ti.UI.createView({id:"comentario",layout:"vertical",ignore:"true"}),l.__views.content.add(l.__views.comentario),l.__views.__alloyId151=Ti.UI.createView({backgroundColor:"#eeeeee",left:"0",right:"0",top:"20",height:"200",layout:"vertical",id:"__alloyId151"}),l.__views.content.add(l.__views.__alloyId151),l.__views.__alloyId152=Ti.UI.createView({backgroundColor:"#FFF",layout:"vertical",top:"10",left:"10",right:"10",height:"130",bottom:"10",id:"__alloyId152"}),l.__views.__alloyId151.add(l.__views.__alloyId152),l.__views.__alloyId153=Ti.UI.createLabel({font:{fontSize:14},color:"#c9c9c9",left:5,top:13,text:"Mensagem:",id:"__alloyId153"}),l.__views.__alloyId152.add(l.__views.__alloyId153),l.__views.mensagem=Ti.UI.createTextArea({height:100,borderWidth:0,top:5,left:"11",right:5,borderColor:"#FFF",id:"mensagem"}),l.__views.__alloyId152.add(l.__views.mensagem),l.__views.enviar=Ti.UI.createButton({left:10,bottom:10,right:10,height:40,borderColor:"#2155bb",font:{fontWeight:"bold"},borderRadius:0,backgroundColor:"transparent",color:"white",backgroundImage:"/back_button.png",title:"Enviar",id:"enviar"}),l.__views.__alloyId151.add(l.__views.enviar),a.destroy=function(){},_.extend(l,l.__views),arguments[0]||{},Titanium.UI.createView({height:Ti.UI.SIZE,width:"100%",left:0,top:0}),l.button.addEventListener("click",function(){Ti.App.fireEvent("app:toggle",null),l.mensagem.blur()}),l.button.addEventListener("touchstart",function(){this.backgroudColor="#000",this.opacity=.2}),l.button.addEventListener("touchend",function(){this.backgroudColor="transparent",this.opacity=1}),null!=Alloy.Globals.Usuario&&Alloy.Globals.Util.getProjeto(Alloy.Globals.Usuario.id,t),l.enviar.addEventListener("click",function(){Ti.App.fireEvent("app:preload",null),Alloy.Globals.Util.newComentario(l.mensagem.value,Alloy.Globals.Projeto.id,Alloy.Globals.Usuario.id,i)}),d["$.__views.__alloyId140!click!clickPDF"]&&l.__views.__alloyId140.addEventListener("click",e),_.extend(l,a)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;