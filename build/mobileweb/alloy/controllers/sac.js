function Controller(){function e(){null!=Alloy.Globals.Projeto.url?Ti.App.fireEvent("app:setLayout",{layout:"pdf",swipe:!1}):alert("Não foi adicionado nenhum arquivo!")}function t(e){if("sucesso"==e.type){Alloy.Globals.Projeto=e,a.titulo_projeto.text=e.titulo,a.descritivo.text=e.descricao,a.deadline.text=e.deadline,40>e.previsto&&(a.previsto.color="#000"),a.sprevisto.width=e.previsto+"%",a.previsto.text=e.previsto+"%",40>e.realizado&&(a.realizado.color="#000"),a.srealizado.width=e.realizado+"%",a.realizado.text=e.realizado+"%";for(var t=0,i=e.comentarios.length;i>t;t++)o(e.comentarios[t]);if(e.realizado>=100&&null==e.avaliacao&&null==Alloy.Globals.dialog){var _=Titanium.UI.createAlertDialog({title:"Projeto Concluído",message:"Deseja fazer uma avaliação do projeto?",buttonNames:["Agora","Agora não"],cancel:1});_.addEventListener("click",function(e){if(e.cancel===e.index||!0===e.cancel)return Alloy.Globals.dialog=0,void 0;switch(e.index){case 0:Ti.App.fireEvent("app:setLayout",{layout:"sac/perguntas",swipe:!1});break;case 1:Titanium.API.info("Clicked button 1 (NO)"),Alloy.Globals.dialog=0;break;default:}}),_.show()}}else _(e.message)}function i(e){"sucesso"==e.type&&(o(e.comentario),a.mensagem.value="")}function o(e){var t=null;t=e.usuarios_id==Alloy.Globals.Usuario.id?"#105A99":"#259D2D";var i=Ti.UI.createView({height:15,top:0,layout:"vertical"}),o=Ti.UI.createLabel({left:10,top:4,color:t,text:e.nome,font:{fontSize:10,fontWeight:"bold"}}),_=Ti.UI.createLabel({right:5,top:"-14",textAlign:"right",text:e.data,font:{fontSize:10},color:"#CCC"});i.add(o),i.add(_),a.comentario.add(i);var l=Ti.UI.createView({left:0,top:2,backgroundColor:"#ccc",height:1,width:"100%"});a.comentario.add(l);var d=Ti.UI.createLabel({left:10,top:5,right:10,text:e.descricao,font:{fontSize:10},color:"#9B9B9B"});a.comentario.add(d),a.comentario.setHeight(Ti.UI.SIZE)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="sac",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var a=this,l={},d={};a.__views.sac=Ti.UI.createView({layout:"vertical",id:"sac"}),a.__views.sac&&a.addTopLevelView(a.__views.sac),a.__views.navView=Ti.UI.createView({height:"44dp",width:"100%",top:0,left:0,backgroundImage:"/lightbg.png",id:"navView"}),a.__views.sac.add(a.__views.navView),a.__views.button=Ti.UI.createView({id:"button",height:"50dp",width:"50dp",left:"0"}),a.__views.navView.add(a.__views.button),a.__views.__alloyId133=Ti.UI.createImageView({image:"/images/icons/menu.png",width:"25dp",height:"15dp",id:"__alloyId133"}),a.__views.button.add(a.__views.__alloyId133),a.__views.__alloyId134=Ti.UI.createLabel({height:"46dp",font:{fontSize:"18dp",fontWeight:"bold"},color:"#FFF",textAlign:"center",shadowColor:"#000",shadowOffset:{x:"0dp",y:"1dp"},text:"SAC",id:"__alloyId134"}),a.__views.navView.add(a.__views.__alloyId134),a.__views.content=Ti.UI.createScrollView({backgroundColor:"transparent",layout:"vertical",id:"content",contentHeight:"auto"}),a.__views.sac.add(a.__views.content),a.__views.__alloyId135=Ti.UI.createView({height:26,left:0,bottom:2,layout:"vertical",backgroundColor:"#f5f5f5",id:"__alloyId135"}),a.__views.content.add(a.__views.__alloyId135),a.__views.__alloyId136=Ti.UI.createLabel({font:{fontSize:11,fontWeight:"bold"},left:10,top:6,color:"#8a8a8a",text:"Seu Projeto",id:"__alloyId136"}),a.__views.__alloyId135.add(a.__views.__alloyId136),a.__views.__alloyId137=Ti.UI.createView({height:"130",width:"100%",layout:"horizontal",id:"__alloyId137"}),a.__views.content.add(a.__views.__alloyId137),a.__views.__alloyId138=Ti.UI.createView({layout:"vertical",width:"80",left:"0",id:"__alloyId138"}),a.__views.__alloyId137.add(a.__views.__alloyId138),a.__views.__alloyId139=Ti.UI.createImageView({image:"/images/icons/pdf.png",width:"50",height:"50",left:"10",top:"10",id:"__alloyId139"}),a.__views.__alloyId138.add(a.__views.__alloyId139),e?a.__views.__alloyId139.addEventListener("click",e):d["$.__views.__alloyId139!click!clickPDF"]=!0,a.__views.__alloyId140=Ti.UI.createLabel({font:{fontSize:10,fontWeight:"normal"},text:"PREVISTO",top:"15",left:"10",id:"__alloyId140"}),a.__views.__alloyId138.add(a.__views.__alloyId140),a.__views.__alloyId141=Ti.UI.createLabel({font:{fontSize:10,fontWeight:"normal"},text:"REALIZADO",left:"10",top:"7",id:"__alloyId141"}),a.__views.__alloyId138.add(a.__views.__alloyId141),a.__views.__alloyId142=Ti.UI.createView({layout:"vertical",top:"0",left:"0",width:"200",id:"__alloyId142"}),a.__views.__alloyId137.add(a.__views.__alloyId142),a.__views.titulo_projeto=Ti.UI.createLabel({font:{fontFamily:"DIN-BoldAlternate",fontSize:16},color:"#7F7F7F",text:"Titulo do projeto 2000",top:"0",left:"0",id:"titulo_projeto"}),a.__views.__alloyId142.add(a.__views.titulo_projeto),a.__views.__alloyId143=Ti.UI.createLabel({font:{fontSize:10,fontWeight:"normal"},text:"DEADLINE",top:"5",left:"0",id:"__alloyId143"}),a.__views.__alloyId142.add(a.__views.__alloyId143),a.__views.deadline=Ti.UI.createLabel({font:{fontSize:12,fontWeight:"bold"},text:"0/00/0000",left:"0",id:"deadline"}),a.__views.__alloyId142.add(a.__views.deadline),a.__views.__alloyId144=Ti.UI.createView({width:"220",backgroundColor:"#F5F5F5",top:"18",height:"17",left:"0",layout:"vertical",id:"__alloyId144"}),a.__views.__alloyId142.add(a.__views.__alloyId144),a.__views.sprevisto=Ti.UI.createView({backgroundGradient:{type:"linear",startPoint:{x:0,y:"50%"},endPoint:{x:"100%",y:"50%"},colors:[{color:"#125a95",offset:0},{color:"#4898dd",offset:1}],height:10,left:0},width:"0%",height:"15",top:"0",left:"0",id:"sprevisto"}),a.__views.__alloyId144.add(a.__views.sprevisto),a.__views.previsto=Ti.UI.createLabel({text:"0%",color:"#FFF",top:"-16",font:"{fontSize: 10}",id:"previsto"}),a.__views.__alloyId144.add(a.__views.previsto),a.__views.__alloyId145=Ti.UI.createView({width:"220",backgroundColor:"#F5F5F5",top:"4",height:"17",left:"0",layout:"vertical",id:"__alloyId145"}),a.__views.__alloyId142.add(a.__views.__alloyId145),a.__views.srealizado=Ti.UI.createView({backgroundGradient:{type:"linear",startPoint:{x:0,y:"50%"},endPoint:{x:"100%",y:"50%"},colors:[{color:"#125a95",offset:0},{color:"#1c5bc4",offset:1}],height:10,left:0},width:"0%",height:"15",left:"0",top:"0",id:"srealizado"}),a.__views.__alloyId145.add(a.__views.srealizado),a.__views.realizado=Ti.UI.createLabel({text:"0%",color:"#FFF",top:"-16",font:"{fontSize: 10}",id:"realizado"}),a.__views.__alloyId145.add(a.__views.realizado),a.__views.__alloyId146=Ti.UI.createView({height:26,left:0,bottom:2,layout:"vertical",backgroundColor:"#f5f5f5",id:"__alloyId146"}),a.__views.content.add(a.__views.__alloyId146),a.__views.__alloyId147=Ti.UI.createLabel({font:{fontSize:11,fontWeight:"bold"},left:10,top:6,color:"#8a8a8a",text:"Descritivo",id:"__alloyId147"}),a.__views.__alloyId146.add(a.__views.__alloyId147),a.__views.descritivo=Ti.UI.createLabel({font:{fontSize:12},color:"#666666",id:"descritivo",left:"10",right:"10",top:"0",textAlign:Ti.UI.TEXT_ALIGNMENT_LEFT}),a.__views.content.add(a.__views.descritivo),a.__views.__alloyId148=Ti.UI.createView({height:26,left:0,bottom:2,layout:"vertical",backgroundColor:"#f5f5f5",top:"10",id:"__alloyId148"}),a.__views.content.add(a.__views.__alloyId148),a.__views.__alloyId149=Ti.UI.createLabel({font:{fontSize:11,fontWeight:"bold"},left:10,top:6,color:"#8a8a8a",text:"Comentários",id:"__alloyId149"}),a.__views.__alloyId148.add(a.__views.__alloyId149),a.__views.comentario=Ti.UI.createView({id:"comentario",layout:"vertical",ignore:"true"}),a.__views.content.add(a.__views.comentario),a.__views.__alloyId150=Ti.UI.createView({backgroundColor:"#eeeeee",left:"0",right:"0",top:"20",height:"200",layout:"vertical",id:"__alloyId150"}),a.__views.content.add(a.__views.__alloyId150),a.__views.__alloyId151=Ti.UI.createView({backgroundColor:"#FFF",layout:"vertical",top:"10",left:"10",right:"10",height:"130",bottom:"10",id:"__alloyId151"}),a.__views.__alloyId150.add(a.__views.__alloyId151),a.__views.__alloyId152=Ti.UI.createLabel({font:{fontSize:14},color:"#c9c9c9",left:5,top:13,text:"Mensagem:",id:"__alloyId152"}),a.__views.__alloyId151.add(a.__views.__alloyId152),a.__views.mensagem=Ti.UI.createTextArea({height:100,borderWidth:0,top:5,left:"11",right:5,borderColor:"#FFF",id:"mensagem"}),a.__views.__alloyId151.add(a.__views.mensagem),a.__views.enviar=Ti.UI.createButton({left:10,bottom:10,right:10,height:40,borderColor:"#2155bb",font:{fontWeight:"bold"},borderRadius:0,backgroundColor:"transparent",color:"white",backgroundImage:"/back_button.png",title:"Enviar",id:"enviar"}),a.__views.__alloyId150.add(a.__views.enviar),l.destroy=function(){},_.extend(a,a.__views),arguments[0]||{},Titanium.UI.createView({height:Ti.UI.SIZE,width:"100%",left:0,top:0}),a.button.addEventListener("click",function(){Ti.App.fireEvent("app:toggle",null)}),a.button.addEventListener("touchstart",function(){this.backgroudColor="#000",this.opacity=.2}),a.button.addEventListener("touchend",function(){this.backgroudColor="transparent",this.opacity=1}),null!=Alloy.Globals.Usuario&&Alloy.Globals.Util.getProjeto(Alloy.Globals.Usuario.id,t),a.enviar.addEventListener("click",function(){Alloy.Globals.Util.newComentario(a.mensagem.value,Alloy.Globals.Projeto.id,Alloy.Globals.Usuario.id,i)}),d["$.__views.__alloyId139!click!clickPDF"]&&a.__views.__alloyId139.addEventListener("click",e),_.extend(a,l)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;